<!DOCTYPE html>
<html>
<head>
    <title>Rubik's Cube State Checker</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { margin-bottom: 10px; }
        .controls { margin-bottom: 20px; }
        .controls input { width: 400px; padding: 5px; font-size: 14px; }
        .controls button { padding: 5px 10px; font-size: 14px; margin-left: 5px; cursor: pointer; }

        #cube { width: 40%; display: flex; gap: 5px; margin-bottom: 20px; flex-direction: column; }
        .faces { display: flex; gap: 5px; }
        .face-container { display: flex; flex-direction: column; align-items: center; }
        .face-container h3 { margin-bottom: 5px; }

        .tileLine { display: flex; flex-direction: row; }
        .tile { width: 40px; height: 40px; border: 1px solid #444; text-align: center; line-height: 40px; font-size: 14px; border-radius: 4px; cursor: pointer; }
        .tile-fill { width: 40px; height: 40px; border: 1px solid transparent; }
        .views { display: flex; gap: 50px; }

        /* Colors */
        .color-U { background: white; }
        .color-R { background: red; }
        .color-F { background: green; }
        .color-D { background: yellow; }
        .color-L { background: orange; }
        .color-B { background: blue; }
        .color-_ { background: #ccc; }

        pre { background: #f0f0f0; padding: 15px; border-radius: 5px; max-width: 1000px; overflow-x: auto; text-wrap: wrap;}

        #cube3d { border: 1px solid #ccc; margin-bottom: 20px; }

        #moves { display: flex; gap: 5px; flex-direction: column; max-width: fit-content;}
        .move-buttons { margin-top: 10px; gap: 5px; width: 30px;}
        #move-history { display: flex; flex-direction: row; gap: 10px;}
        .move-history-item { display: flex; flex-direction: row;}
        .move-history-item:hover { color: red; display: flex; flex-direction: row; cursor: pointer }
        .state-history-item { cursor: pointer; }
        .state-history-item:hover { color: red; }
    </style>
    <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script> -->
    <script src="{{ url_for('static', filename='three.min.js') }}"></script>
    <script src="{{ url_for('static', filename='OrbitControls.js') }}"></script>
</head>
<body>

<h1>Rubik's Cube State Checker</h1>

<!-- 
<label for="cube-size">Select cube size:</label>
<select id="cube-size" name="cube-size">
    <option value="2">2x2</option>
    <option value="3" selected>3x3</option>
    <option value="4">4x4</option>
</select>
 -->

<div class="controls">
    <input
        id="stateInput"
        type="text"
        placeholder="Enter 54-character cube state"
    >
    <button onclick="loadState()">Load State</button>
    <button onclick="checkCube()">Check Cube</button>
    <button onclick="resetCube()">Reset</button>
    <button onclick="randomState()">Random State</button>
    <button onclick="solve()">Solve</button>
</div>

<div class="views">
    <div><div id="cube3d"></div></div>

    <div id="cube">
        <div class="faces end">
            <div class="face-fill"></div>
            <div class="face-container">
                <div class="face" id="U"></div>
            </div>
        </div>
        <div class="faces">
            <div class="face-container">
                <div class="face" id="L"></div>
            </div>
            <div class="face-container">
                <div class="face" id="F"></div>
            </div>
            <div class="face-container">
                <div class="face" id="R"></div>
            </div>
            <div class="face-container">
                <div class="face" id="B"></div>
            </div>
        </div>
        <div class="faces end">
            <div class="face-fill"></div>
            <div class="face-container">
                <div class="face" id="D"></div>
            </div>
        </div>
    </div>
</div>

<h3>Moves</h3>
<div id="moves" style="margin-bottom:20px;">
    <div>
        <button class="move-buttons" onclick="sendMove('U')">U</button>
        <button class="move-buttons" onclick="sendMove(`U'`)">U'</button>
        <button class="move-buttons" onclick="sendMove('U2')">U2</button>

        <button class="move-buttons" onclick="sendMove('R')">R</button>
        <button class="move-buttons" onclick="sendMove(`R'`)">R'</button>
        <button class="move-buttons" onclick="sendMove('R2')">R2</button>
    </div>

    <div>
        <button class="move-buttons" onclick="sendMove('F')">F</button>
        <button class="move-buttons" onclick="sendMove(`F'`)">F'</button>
        <button class="move-buttons" onclick="sendMove('F2')">F2</button>

        <button class="move-buttons" onclick="sendMove('D')">D</button>
        <button class="move-buttons" onclick="sendMove(`D'`)">D'</button>
        <button class="move-buttons" onclick="sendMove('D2')">D2</button>
    </div>

    <div>
        <button class="move-buttons" onclick="sendMove('L')">L</button>
        <button class="move-buttons" onclick="sendMove(`L'`)">L'</button>
        <button class="move-buttons" onclick="sendMove('L2')">L2</button>

        <button class="move-buttons" onclick="sendMove('B')">B</button>
        <button class="move-buttons" onclick="sendMove(`B'`)">B'</button>
        <button class="move-buttons" onclick="sendMove('B2')">B2</button>
    </div>
</div>

<h3>Move History:</h3>
<pre id="move-history"></pre>
<h3>Output:</h3>
<pre id="solution-output"></pre>
<pre id="output"></pre>
<h3>State History:</h3>
<pre id="state-history"></pre>

<script src="{{ url_for('static', filename='3dCube.js') }}"></script>
<script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
